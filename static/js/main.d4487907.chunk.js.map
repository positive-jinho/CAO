{"version":3,"sources":["components/GlobalStyles.js","components/Header.js","components/Loader.js","components/UploadFiles.js","components/Footer.js","App.js","index.js"],"names":["globalStyles","createGlobalStyle","_templateObject","reset","Header","styled","header","Header_templateObject","Title","h1","_templateObject2","SampleContainer","div","_templateObject3","cutframes","keyframes","_templateObject4","Cutter","_templateObject5","SampleImg","img","_templateObject6","Description","p","_templateObject7","components_Header","react_default","a","createElement","src","style","height","marginTop","spin","Loader_templateObject","Loader","Loader_templateObject2","components_Loader","_ref","current","length","scrollY","top","window","innerHeight","class","UploadFileBtn","input","UploadFiles_templateObject","CropBtn","button","UploadFiles_templateObject2","Info","UploadFiles_templateObject3","Label","label","UploadFiles_templateObject4","Container","UploadFiles_templateObject5","UploadFiles","state","uploaded","files","event","checkCnt","loading","_sizeCheck","image","width","_this","setState","_upload","document","getElementById","innerHTML","firstImg","URL","createObjectURL","maxHeight","appendChild","that","Object","assertThisInitialized","Cropper","zoomable","viewMode","ready","crop","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","file","value","Image","onload","naturalWidth","naturalHeight","_iterator","Symbol","iterator","next","done","err","return","_crop","_callee2","_this$state","regenerator_default","wrap","_context3","prev","delegateYield","mark","_callee","zip","detail","_loop2","i","_context2","JSZip","_context","Jimp","read","sent","x","y","getBuffer","getMIME","data","name","base64","console","log","stop","generateAsync","type","then","content","saveAs","alert","_this$state2","this","Fragment","id","accept","onChange","multiple","htmlFor","className","role","aria-label","marginRight","onClick","Component","Footer","footer","Footer_templateObject","components_Footer","App","GlobalStyles","components_UploadFiles","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.d4487907.chunk.js","sourcesContent":["import { createGlobalStyle } from \"styled-components\";\r\nimport reset from \"styled-reset\";\r\n\r\nconst globalStyles = createGlobalStyle`\r\n    @import url(\"https://fonts.googleapis.com/css?family=Noto+Sans+KR\");\r\n    ${reset};\r\n    a{\r\n        text-decoration:none;\r\n        color:inherit;\r\n    }\r\n    *{\r\n        box-sizing:border-box;\r\n    }\r\n    body{\r\n        font-family: \"Noto Sans KR\", sans-serif;\r\n        font-size:12px;\r\n        text-align:center;\r\n        color:white;\r\n        background-color: hsl(70, 0%, 15%);\r\n        padding:0px 0px 40px;\r\n        display:flex;\r\n        flex-direction:column;\r\n        align-items:center;\r\n    }\r\n`;\r\n\r\nexport default globalStyles;\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nconst Header = styled.header``;\r\n\r\nconst Title = styled.h1`\r\n  margin-top: 30px;\r\n  font-size: 32px;\r\n  font-weight: 700;\r\n`;\r\n\r\nconst SampleContainer = styled.div`\r\n  margin-top: 40px;\r\n`;\r\n\r\nconst cutframes = keyframes`\r\n  from {\r\n    background-color: #d3394c;\r\n    opacity:0.5;\r\n  }\r\n\r\n  to {\r\n    background-color: hsl(70, 0%, 15%);\r\n    opacity:1;\r\n  }\r\n`;\r\n\r\nconst Cutter = styled.div`\r\n  height: 16px;\r\n  position: relative;\r\n  margin: 0 auto;\r\n  width: 726px;\r\n  animation: ${cutframes} 1.2s infinite;\r\n  animation-direction: alternate;\r\n`;\r\n\r\nconst SampleImg = styled.img`\r\n  height: 400px;\r\n  margin-top: -16px;\r\n\r\n  &:nth-child(3) {\r\n    margin-right: 10px;\r\n    margin-left: 10px;\r\n  }\r\n`;\r\n\r\nconst Description = styled.p`\r\n  margin: 10px 0px;\r\n`;\r\n\r\nexport default () => (\r\n  <Header>\r\n    <SampleContainer>\r\n      <Cutter />\r\n      <SampleImg src=\"/sample/1.png\" />\r\n      <SampleImg src=\"/sample/2.png\" />\r\n      <SampleImg src=\"/sample/3.png\" />\r\n      <Cutter style={{ height: \"36px\", marginTop: \"-36px\" }} />\r\n    </SampleContainer>\r\n\r\n    <Title>Crop At Once</Title>\r\n    <Description>Please upload same height images.</Description>\r\n  </Header>\r\n);\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nconst spin = keyframes`\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n`;\r\n\r\nconst Loader = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  z-index: 11;\r\n  left: 50%;\r\n  transform: translateX(-40px);\r\n  width: 80px;\r\n  border-radius: 50%;\r\n  background-color: #f6c84b;\r\n  font-weight: 700;\r\n  color: #444;\r\n  padding: 10px 0px;\r\n  box-shadow: 0px 0px 40px 2px #444;\r\n\r\n  span {\r\n    padding: 5px 0px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  i {\r\n    animation: ${spin} 1s linear infinite;\r\n    font-size: 24px;\r\n  }\r\n`;\r\n\r\nexport default ({ current, length, scrollY }) => (\r\n  <Loader style={{ top: window.innerHeight / 2 + scrollY / 2 }}>\r\n    <span>\r\n      <i class=\"fas fa-cut\" />\r\n    </span>\r\n    <span>\r\n      {current} / {length}\r\n    </span>\r\n  </Loader>\r\n);\r\n","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Cropper from \"cropperjs\";\r\nimport Jimp from \"jimp/es\";\r\nimport JSZip from \"jszip\";\r\nimport { saveAs } from \"file-saver\";\r\nimport Loader from \"./Loader\";\r\n\r\nconst UploadFileBtn = styled.input`\r\n  display: none;\r\n`;\r\n\r\nconst CropBtn = styled.button`\r\n  background-color: #f6c84b;\r\n  color: #444;\r\n  padding: 18px 28px;\r\n  border-radius: 10px;\r\n  border: none;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  margin: 40px 0px;\r\n  transition: transform 0.5s;\r\n\r\n  &:hover {\r\n    transform: scale(1.4);\r\n  }\r\n`;\r\n\r\nconst Info = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  margin-top: 40px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  background-color: #d3394c;\r\n  padding: 18px 28px;\r\n  margin: 40px 0px;\r\n  border-radius: 10px;\r\n  font-weight: 600;\r\n  font-size: 20px;\r\n\r\n  &:hover {\r\n    background-color: #722040;\r\n  }\r\n\r\n  i {\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nclass UploadFiles extends Component {\r\n  state = {\r\n    uploaded: false,\r\n    files: null,\r\n    event: null,\r\n    checkCnt: 0,\r\n    loading: false,\r\n    current: 0\r\n  };\r\n\r\n  _sizeCheck = (image, width, height) => {\r\n    const { checkCnt } = this.state;\r\n\r\n    if (height !== image.height || width !== image.width) {\r\n      this.setState({\r\n        checkCnt: 0\r\n      });\r\n    } else {\r\n      this.setState({\r\n        checkCnt: checkCnt + 1\r\n      });\r\n    }\r\n  };\r\n\r\n  _upload = () => {\r\n    this.setState({\r\n      checkCnt: 0\r\n    });\r\n\r\n    const files = document.getElementById(\"uploadFileBtn\").files;\r\n    const div = document.getElementById(\"container\");\r\n    div.innerHTML = \"\";\r\n\r\n    if (files.length !== 0) {\r\n      const firstImg = document.createElement(\"img\");\r\n      firstImg.src = window.URL.createObjectURL(files[0]);\r\n      firstImg.style.maxHeight = \"60vh\";\r\n\r\n      div.appendChild(firstImg);\r\n\r\n      const that = this;\r\n      new Cropper(firstImg, {\r\n        zoomable: false,\r\n        viewMode: 1,\r\n        ready() {\r\n          that.setState({\r\n            uploaded: true,\r\n            files\r\n          });\r\n        },\r\n        crop(event) {\r\n          that.setState({\r\n            event\r\n          });\r\n        }\r\n      });\r\n\r\n      for (const file of files) {\r\n        const image = new Image();\r\n        image.onload = () => {\r\n          this._sizeCheck(image, firstImg.naturalWidth, firstImg.naturalHeight);\r\n        };\r\n        image.src = window.URL.createObjectURL(file);\r\n      }\r\n    } else {\r\n      this.setState({\r\n        uploaded: false,\r\n        files: null,\r\n        event: null\r\n      });\r\n    }\r\n  };\r\n\r\n  _crop = async () => {\r\n    const { checkCnt, files, event } = this.state;\r\n\r\n    if (files.length === checkCnt) {\r\n      this.setState({\r\n        loading: true\r\n      });\r\n\r\n      const zip = new JSZip();\r\n      const { detail } = event;\r\n      const that = this;\r\n\r\n      for (let i = 0; i < files.length; i++) {\r\n        const image = await Jimp.read(window.URL.createObjectURL(files[i]));\r\n        image.crop(detail.x, detail.y, detail.width, detail.height);\r\n        await image.getBuffer(image.getMIME(), (err, data) => {\r\n          zip.file(files[i].name, data, { base64: true });\r\n          this.setState({\r\n            current: i + 1\r\n          });\r\n          console.log(data);\r\n        });\r\n      }\r\n\r\n      zip.generateAsync({ type: \"blob\" }).then(function(content) {\r\n        saveAs(content, \"Crop-At-Once.zip\");\r\n        that.setState({\r\n          loading: false,\r\n          current: 0\r\n        });\r\n      });\r\n    } else\r\n      alert(\"이미지들의 크기가 서로 다릅니다!\\n이미지를 다시 선택해주세요!\");\r\n  };\r\n\r\n  render() {\r\n    const { loading, uploaded, files, current } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <UploadFileBtn\r\n          type=\"file\"\r\n          id=\"uploadFileBtn\"\r\n          accept=\"image/*\"\r\n          onChange={this._upload}\r\n          multiple\r\n        />\r\n        <Label htmlFor=\"uploadFileBtn\">\r\n          <i className=\"far fa-images\" />\r\n          Choose images !\r\n        </Label>\r\n\r\n        <Container id=\"container\" />\r\n        {uploaded ? (\r\n          <>\r\n            <Info>\r\n              <span role=\"img\" aria-label=\"clap\" style={{ marginRight: \"5px\" }}>\r\n                👏\r\n              </span>\r\n              대표 이미지를 포함해 <u>사진 {files.length}장</u>이\r\n              선택되었습니다.\r\n            </Info>\r\n            <CropBtn id=\"cropBtn\" onClick={this._crop}>\r\n              <i class=\"fas fa-cut\" /> 싹둑싹둑\r\n            </CropBtn>\r\n          </>\r\n        ) : null}\r\n\r\n        {loading ? (\r\n          <Loader\r\n            current={current}\r\n            length={files.length}\r\n            scrollY={window.scrollY}\r\n          />\r\n        ) : null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UploadFiles;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Footer = styled.footer`\r\n  font-size: 14px;\r\n`;\r\n\r\nexport default () => <Footer>© 2019 Crop At Once All rights reserved.</Footer>;\r\n","import React, { Component } from \"react\";\nimport GlobalStyles from \"./components/GlobalStyles\";\nimport Header from \"./components/Header\";\nimport UploadFiles from \"./components/UploadFiles\";\nimport Footer from \"./components/Footer\";\n\nclass App extends Component {\n  render() {\n    return (\n      <>\n        <GlobalStyles />\n        <Header />\n        <UploadFiles />\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}